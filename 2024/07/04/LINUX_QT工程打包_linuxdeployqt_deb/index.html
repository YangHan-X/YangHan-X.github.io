<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="" />
    <meta name="hexo-theme-A4" content="v1.9.0" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Cure</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '53px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Cure</a> 
            <span class="description">ä¸çŸ¥é“å†™å•¥ï¼Œå°±ç¥å¤§å®¶æš´å¯Œå§ï¼</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-%E5%87%86%E5%A4%87%EF%BC%9A%E5%AE%89%E8%A3%85%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7linuxdepoyqt"><span class="post-toc-text">1. å‡†å¤‡ï¼šå®‰è£…æ‰“åŒ…å·¥å…·linuxdepoyqt</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-%E5%87%86%E5%A4%87%EF%BC%9A%E6%A3%80%E6%9F%A5qmake"><span class="post-toc-text">2. å‡†å¤‡ï¼šæ£€æŸ¥qmake</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-%E6%89%93%E5%8C%85"><span class="post-toc-text">3. æ‰“åŒ…</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-%E6%89%93%E5%8C%85%E4%B8%BAdeb"><span class="post-toc-text">4. æ‰“åŒ…ä¸ºdeb</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-deb"><span class="post-toc-text">5. deb</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-control"><span class="post-toc-text">é…ç½®æ–‡ä»¶ control</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6-preinst"><span class="post-toc-text">è„šæœ¬æ–‡ä»¶ preinst</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6-postinst"><span class="post-toc-text">è„šæœ¬æ–‡ä»¶ postinst</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6-prerm"><span class="post-toc-text">è„šæœ¬æ–‡ä»¶ prerm</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6-postrm"><span class="post-toc-text">è„šæœ¬æ–‡ä»¶ postrm</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6-MCPlayer-desktop"><span class="post-toc-text">æ¡Œé¢æ–‡ä»¶ MCPlayer.desktop</span></a></li></ol></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="1-å‡†å¤‡ï¼šå®‰è£…æ‰“åŒ…å·¥å…·linuxdepoyqt"><a href="#1-å‡†å¤‡ï¼šå®‰è£…æ‰“åŒ…å·¥å…·linuxdepoyqt" class="headerlink" title="1. å‡†å¤‡ï¼šå®‰è£…æ‰“åŒ…å·¥å…·linuxdepoyqt"></a><strong>1.</strong> å‡†å¤‡ï¼šå®‰è£…æ‰“åŒ…å·¥å…·linuxdepoyqt</h2><p>(1). ä¸‹è½½inuxdepoyqt </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è½¬åˆ°é“¾æ¥ï¼šhttps://github.com/probonopd/linuxdeployqt/releases</span><br><span class="line">ä¸‹è½½æ–‡ä»¶ï¼šlinuxdeployqt-countinuous-x86_64.AppImage</span><br></pre></td></tr></table></figure>

<p>(2). æ‹·è´åˆ° &#x2F;usr&#x2F;local&#x2F;binç›®å½•ä¸­ï¼Œå¹¶é‡å‘½å</p>
<p><code>cp linuxdeployqt-continuous-x86_64.AppImage /usr/local/bin/linuxdeployqt</code></p>
<p>(3). ä¿®æ”¹æƒé™</p>
<p><code>chmod 777 linuxdeployqt </code></p>
<p>(4). æ‰“å°ç‰ˆæœ¬ä¿¡æ¯ï¼ˆæ£€æŸ¥æ˜¯å¦æ­£ç¡®å®‰è£…ï¼‰</p>
<p><code>linuxdeployqt -version</code></p>
<h2 id="2-å‡†å¤‡ï¼šæ£€æŸ¥qmake"><a href="#2-å‡†å¤‡ï¼šæ£€æŸ¥qmake" class="headerlink" title="2. å‡†å¤‡ï¼šæ£€æŸ¥qmake"></a><strong>2.</strong> å‡†å¤‡ï¼šæ£€æŸ¥qmake</h2><p>(1). å®‰è£…qtchooser</p>
<p><code>apt install qtchooser</code></p>
<p>(2). ä¿®æ”¹default.conf</p>
<p><code>vim /usr/lib/x86_64-linux-gnu/qt-default/qtchooser/default.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/opt/Qt5.14.2/5.14.2/gcc_64/bin</span><br><span class="line">/opt/Qt5.14.2/5.14.2/</span><br></pre></td></tr></table></figure>

<p>(3). æ‰“å°ç‰ˆæœ¬</p>
<p><code>qmake -v</code></p>
<h2 id="3-æ‰“åŒ…"><a href="#3-æ‰“åŒ…" class="headerlink" title="3. æ‰“åŒ…"></a>3. æ‰“åŒ…</h2><p>(1). å‡†å¤‡æ–‡ä»¶å¤¹</p>
<p>å‡†å¤‡ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚<code>AppFolder</code>ï¼Œå°†<code>qt-release</code>ç¼–è¯‘ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶<code>TestAPP</code>ï¼Œä»¥åŠæ‰€ç”¨åˆ°çš„èµ„æºæ–‡ä»¶ï¼ˆå›¾æ ‡ã€å›¾ç‰‡ã€DBæ–‡ä»¶ç­‰ï¼‰æ”¾åˆ°<code>AppFolder</code>ã€‚</p>
<p>(2). è‡ªåŠ¨å¤åˆ¶æ‰€éœ€åº“æ–‡ä»¶</p>
<p>å‘½ä»¤ï¼š<code>linuxdeployqt App -appimage</code>ï¼ŒæŠ¥é”™æ‰§è¡Œ3.3</p>
<p>(3). ç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<p>æ‰§è¡Œ<code>vim default.desktop</code>æ‰“å¼€æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶æœ«å°¾è¿½åŠ <code>Categories</code>ï¼ˆæ³¨æ„åˆ†å·ä¸å¯çœç•¥ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Type=Application					</span><br><span class="line">Name=TestAPP</span><br><span class="line">Exec=/usr/src/MyAPP/AppRun %F</span><br><span class="line">Icon=/usr/src/MyAPP/AppRun/images/logo.png</span><br><span class="line">Comment=Edit this default file</span><br><span class="line">Terminal=true</span><br><span class="line">Categories=Application;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>desktopå®˜æ–¹æ‰‹å†Œï¼š<a target="_blank" rel="noopener" href="https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles">https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles</a></p>
</blockquote>
<blockquote>
<p>åœ¨<code>Linux</code>ç³»ç»Ÿä¸­ï¼Œ<code>.desktop</code>æ–‡ä»¶å°±æ˜¯ç”¨æ¥è¿è¡Œç¨‹åºçš„å¿«æ·æ–¹å¼ï¼Œæ˜¯ä¸€ä¸ªåŒ…å«ç¨‹åºä¿¡æ¯çš„çº¯æ–‡æœ¬æ–‡ä»¶ã€‚</p>
<p><code>.desktop</code>æ–‡ä»¶ä»¥<code>UTF-8</code>ç¼–ç ï¼Œæ¯ä¸€è¡Œç”±æ¢è¡Œç¬¦åˆ†å‰²ã€‚</p>
<p><code>.desktop</code>æ–‡ä»¶é€šå¸¸æ”¾åœ¨<code>~/.local/share/applications</code>æˆ–<code>/usr/share/applications</code>ç›®å½•ä¸‹ã€‚</p>
<p>é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºåœ¨å®‰è£…åéƒ½ä¼šè‡ªåŠ¨åˆ›å»º<code>.desktop</code>æ–‡ä»¶ï¼Œå¦‚æœæ˜¯è‡ªå·±ä½¿ç”¨æºä»£ç ç¼–è¯‘å¾—åˆ°çš„ç¨‹åºæˆ–è€…è‡ªå·±ä¸‹è½½çš„å‹ç¼©æ ¼å¼çš„åº”ç”¨ï¼Œå°±éœ€è¦æ‰“å¼€ç»ˆç«¯æ‰§è¡Œå…¶äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä»¥åŠæ‰‹åŠ¨åˆ›å»º<code>.desktop</code>æ–‡ä»¶ã€‚</p>
<p>â‘  æ³¨é‡Šï¼šä»¥<code>#</code>å¼€å¤´</p>
<p>â‘¡ ç»„ï¼šç¬¬ä¸€ä¸ªç»„å¿…é¡»æ˜¯<code>[Desktop Entry]</code>ï¼Œå…¶åè·Ÿéšçš„<code>Key=Value</code>éƒ½å±äºè¯¥ç»„ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªç»„ä¸ºæ­¢ï¼›</p>
<p>â‘¢ é¡¹ï¼š</p>
<ul>
<li><p>æ¯ä¸€ä¸ªé¡¹çš„æ ¼å¼å‡ä¸º<code>Key=Value</code>ï¼ˆ<code>=</code>ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œ<code>Key</code>åªèƒ½ç”¨<code>[A-Za-z0-9]</code>ï¼Œä¸åŒç»„çš„<code>Key</code>å¯ä»¥åŒåï¼‰</p>
</li>
<li><p><code>Value</code>ç±»å‹æœ‰<code>boolean</code>ã€<code>numberic</code>ã€<code>string</code>ã€<code>localestring</code>(ç”¨æˆ·å¯æ˜¾ç¤ºçš„ç”¨<code>UTF-8</code>çš„å­—ç¬¦ä¸²)</p>
</li>
<li><p>é”®çš„æœ¬åœ°åŒ–å€¼</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Name=Foo</span><br><span class="line">Name[sr_YU]=...</span><br><span class="line">Name[sr@Latn]=...</span><br><span class="line">Name[sr]=...</span><br></pre></td></tr></table></figure>

<p>å…¶é€šç”¨Keyä¸ºï¼š(<a target="_blank" rel="noopener" href="https://blog.csdn.net/u014025444/article/details/94024282">https://blog.csdn.net/u014025444/article/details/94024282</a>)</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>æè¿°</th>
<th>Value Type</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>ç”Ÿæ•ˆçš„Type</th>
</tr>
</thead>
<tbody><tr>
<td>Type</td>
<td>(1). Application<br />(2). Link<br />(3). Directory</td>
<td>string</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>Name</td>
<td>åº”ç”¨ç¨‹åºçš„ç‰¹å®šåç§°</td>
<td>localstring</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>GenericName</td>
<td>åº”ç”¨ç¨‹åºçš„é€šç”¨åç§°</td>
<td>localstring</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>Exec</td>
<td>æ‰§è¡Œè·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰</td>
<td>string</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>TryExec</td>
<td>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨, åˆ™å¿½ç•¥è¯¥æ–‡ä»¶ï¼Œå¹¶ä¸åœ¨èœå•ä¸­å‡ºç°</td>
<td>string</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>URL</td>
<td>å½“Type&#x3D;Linkæ—¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶æŒ‡å‘çš„URL</td>
<td>string</td>
<td>1</td>
<td>(2)</td>
</tr>
<tr>
<td>Comment</td>
<td>åº”ç”¨æè¿°</td>
<td>localestring</td>
<td>0</td>
<td>1-3</td>
</tr>
<tr>
<td>Icon</td>
<td>åº”ç”¨å›¾æ ‡(ç»å¯¹è·¯å¾„, æˆ–ç¬¦åˆå›¾æ ‡ä¸»é¢˜è§„èŒƒ)</td>
<td>localestring</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>Path</td>
<td>å½“Type&#x3D;Applicationæ—¶ï¼Œç¨‹åºè¿è¡Œçš„ç›®å½•</td>
<td>string</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Type=Application		# </span><br><span class="line">Name=MyAPP				# åº”ç”¨åç§°</span><br><span class="line">Icon=/path/to/icon		# åº”ç”¨å›¾æ ‡ï¼Œç»å¯¹è·¯å¾„</span><br><span class="line">Exec=/path/to/AppRun	# å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œç»å¯¹è·¯å¾„</span><br><span class="line">Encoding=UTF-8			</span><br><span class="line">Version=0.1.0</span><br><span class="line">Terminal=false</span><br></pre></td></tr></table></figure>
</blockquote>
<p>(4). å†æ¬¡æ‰§è¡Œ</p>
<p>æ‰§è¡Œ<code>linuxdeployqt App -appimage</code>æˆ–<code>sudo linuxdeployqt Appname-appimage -unsupported-allow-new-glibc</code>ï¼Œæœ€ç»ˆç”Ÿæˆçš„<code>TestAPP</code>ï¼Œå³å¯æ‰§è¡Œã€‚</p>
<blockquote>
<p>æŠ¥é”™è§£å†³ï¼šè‹¥å‡ºç°<code>xxx.so.1</code>ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ‹·è´<code>release</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆçš„å¯¹åº”<code>so</code>æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°<code>AppFloder</code>ä¸‹çš„<code>lib</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p>
</blockquote>
<h2 id="4-æ‰“åŒ…ä¸ºdeb"><a href="#4-æ‰“åŒ…ä¸ºdeb" class="headerlink" title="4. æ‰“åŒ…ä¸ºdeb"></a>4. æ‰“åŒ…ä¸ºdeb</h2><p> <code>deb</code>æ˜¯<code>Debian Linux</code>çš„è½¯ä»¶åŒ…æ ¼å¼ï¼Œé€šå¸¸æ˜¯ä»¥ç¼–è¯‘æºç çš„æ–¹å¼åˆ¶ä½œ<code>deb</code>åŒ…ï¼Œæ­¤å¤„æ˜¯ä»¥ç”Ÿæˆçš„å‘å¸ƒæ–‡ä»¶å¤¹çš„æ–¹å¼åˆ¶ä½œ<code>deb</code>åŒ…ã€‚</p>
<p> (1). å‡†å¤‡å·¥ä½œ</p>
<p>åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œ å¦‚<code>MyAPP</code>ï¼Œè‡ªå®šä¹‰ç¨‹åºçš„å®‰è£…è·¯å¾„ä¸º<code>/usr/src</code>ï¼ˆæ–‡ä»¶é»˜è®¤æ˜¯é‡Šæ”¾åˆ°æ ¹ç›®å½•ä¸‹ï¼‰ï¼Œå¹¶å°†ä¹‹å‰ç”Ÿæˆçš„å‘å¸ƒæ–‡ä»¶å¤¹å¤åˆ¶åˆ°<code>MyAPP/usr/src</code>ä¸‹ã€‚</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> MyAPP</span><br><span class="line"><span class="built_in">cd</span> MyAPP</span><br><span class="line"><span class="built_in">mkdir</span> -p usr/src</span><br><span class="line">cp -a ~/AppFolder usr/src</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š<code>desktop</code>æ–‡ä»¶ä¸­ <code>Exec</code> å’Œ <code>Icon</code> å¿…é¡»è¦æ˜¯<strong>ç»å¯¹è·¯å¾„</strong>ï¼</p>
</blockquote>
<p>(2). DEBIAN</p>
<p>åœ¨<code>MyAPP</code>ä¸‹åˆ›å»ºä¸€ä¸ªç›®å½•<code>DEBIAN</code>ï¼Œåœ¨<code>DEBIAN</code>ä¸‹åˆ›å»ºä¸€ä¸ª<code>control</code>æ–‡ä»¶ï¼Œå¹¶ç¼–å†™ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir DEBIAN</span><br><span class="line">cd DEBIAN</span><br><span class="line">vim control</span><br></pre></td></tr></table></figure>

<p>control</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package: MyAPP</span><br><span class="line">Version: 1.0.1</span><br><span class="line">Section: utils</span><br><span class="line">Priority: optional</span><br><span class="line">Architecture: amd64</span><br><span class="line">Depends:</span><br><span class="line">Installed-Size: 4096</span><br><span class="line">Maintainer: Smith</span><br><span class="line">Description: MyAPP-deb</span><br></pre></td></tr></table></figure>

<p>postinst</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">chmod 777 /usr/src/MyAPP/MyAPP.desktop</span><br><span class="line">cp /usr/src/MyAPP/MyAPP.desktop /usr/share/applications/</span><br><span class="line">cp /usr/src/MyAPP/MyAPP.desktop ~/æ¡Œé¢/</span><br></pre></td></tr></table></figure>

<p>postrm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">rm /usr/share/applications/MyAPP.desktop</span><br><span class="line">rm ~/æ¡Œé¢/MyAPP.desktop</span><br></pre></td></tr></table></figure>



<p>(3). æ„å»ºç”ŸæˆdebåŒ…</p>
<p>æ‰§è¡Œ<code>dpkg -b . MyAPP.0.1_amd64.deb</code>ï¼Œç”Ÿæˆ<code>deb</code>åŒ…ï¼Œå¯ä»¥æŒ‡å®š<code>deb</code>åŒ…çš„ç”Ÿæˆè·¯å¾„ã€‚</p>
<p>(4). å®‰è£…debåŒ…</p>
<p>æ‰§è¡Œ<code>dpkg -i MyAPP.0.1_amd64.deb</code>åï¼Œåœ¨<code>/usr/src</code>ä¸­ä¼šå¤šå‡ºä¸€ä¸ª<code>MyAPP</code>ç›®å½•ï¼Œæ‰§è¡Œå…¶ä¸­å³å¯</p>
<p>(5). å¸è½½debåŒ…</p>
<p><code>dpkg -r MyAPP</code></p>
<blockquote>
<p>å®‰è£…å¤±è´¥æ—¶ï¼Œé‡æ–°å®‰è£…ä¼šå‘ç”Ÿçš„é—®é¢˜ï¼š</p>
<p>é—®é¢˜ä¸€ï¼šå­è¿›ç¨‹ xxx å·²å®‰è£… pre-removal è„šæœ¬ è¿”å›äº†é”™è¯¯å· 1 æˆ– 2 </p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ‰“å¼€<code>gedit /var/lib/dpkg/status</code>,æ‰¾åˆ°<code>Package: åŒ…å</code>ï¼Œå°†é‚£ä¸€éƒ¨åˆ†åˆ é™¤å³å¯ã€‚</p>
</blockquote>
<h2 id="5-deb"><a href="#5-deb" class="headerlink" title="5. deb"></a>5. deb</h2><p>å‡è®¾å¯ç¨‹åºç¨‹åºåä¸º<code>MCPlayer</code></p>
<p>ç”¨<code>dpkg</code>æ‰“åŒ…ä¹‹å‰ï¼Œéœ€è¦å°†ç¨‹åºçš„å®‰è£…è·¯å¾„<code>æ˜ å°„</code>åˆ°è½¯ä»¶åŒ…çš„ä¸»ç›®å½•ä¸‹ã€‚</p>
<ul>
<li>å¦‚åˆ›å»ºä¸€ä¸ªç›®å½•<code>MCPlayerDeb</code>ï¼Œä½œä¸ºè½¯ä»¶åŒ…çš„ä¸»ç›®å½•ï¼›</li>
<li>å‡è®¾è¦å®‰è£…åˆ°ç›®æ ‡è®¡ç®—æœºçš„<code>/opt</code>ç›®å½•ä¸­ï¼Œå°±éœ€è¦åœ¨<code>MCPlayerDeb</code>ä¸‹åˆ›å»ºå¯¹åº”ç›®å½•ï¼Œå¦‚<code>PlayerDeb/opt</code>ï¼›</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Deb-MCPlayer/</span><br><span class="line">â”œâ”€â”€ DEBIAN										# å­˜æ”¾é…ç½®æ–‡ä»¶ï¼ˆcontrolï¼‰å’Œ å¤šä¸ªè„šæœ¬æ–‡ä»¶</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ control									# é…ç½®æ–‡ä»¶ï¼šç¼–å†™é…ç½®ä¿¡æ¯</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ preinst									# è„šæœ¬æ–‡ä»¶ï¼šå®‰è£…æ—¶æ‰§è¡Œ</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ postinst								# è„šæœ¬æ–‡ä»¶ï¼šå®‰è£…åæ‰§è¡Œ</span><br><span class="line">â”‚Â Â  â””â”€â”€ prerm									# è„šæœ¬æ–‡ä»¶ï¼šå¸è½½æ—¶æ‰§è¡Œ</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ postrm									# è„šæœ¬æ–‡ä»¶ï¼šå¸è½½åæ‰§è¡Œ</span><br><span class="line">â”œâ”€â”€ opt											# å®‰è£…åŒ…ç›®å½•ï¼ˆç›¸å¯¹äºç³»ç»Ÿçš„è·¯å¾„ï¼‰</span><br><span class="line">â”‚Â Â  â””â”€â”€ MCPlayer</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ MCPlayer							# å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line">â”‚Â Â      â””â”€â”€ ...									# å…¶å®ƒæ–‡ä»¶ï¼ˆå¦‚libã€pluginsç­‰ï¼‰</span><br><span class="line">â””â”€â”€ usr					</span><br><span class="line">    â””â”€â”€ share</span><br><span class="line">        â”œâ”€â”€ applications</span><br><span class="line">        â”‚Â Â  â””â”€â”€ MCPlayer.desktop				# å¼€å§‹èœå•å¿«æ·æ–¹å¼</span><br><span class="line">        â””â”€â”€ icons								# å›¾æ ‡</span><br><span class="line">            â””â”€â”€ hicolor</span><br><span class="line">                â”œâ”€â”€ 16x16</span><br><span class="line">                â”‚Â Â  â””â”€â”€ apps</span><br><span class="line">                â”‚Â Â      â””â”€â”€ MCPlayer.png</span><br><span class="line">                â”œâ”€â”€ 24x24</span><br><span class="line">                â”‚Â Â  â””â”€â”€ apps</span><br><span class="line">                â”‚Â Â      â””â”€â”€ MCPlayer.png</span><br><span class="line">                â”œâ”€â”€ ...</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®æ–‡ä»¶-control"><a href="#é…ç½®æ–‡ä»¶-control" class="headerlink" title="é…ç½®æ–‡ä»¶ control"></a>é…ç½®æ–‡ä»¶ control</h3><p>controlæ–‡ä»¶åœ¨æ‰“åŒ…æ—¶éœ€è¦è°ƒç”¨ï¼Œcontrolæ–‡ä»¶çš„åŸºæœ¬é…ç½®é¡¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Package: Player									<span class="comment"># è½¯ä»¶åŒ…åç§°</span></span><br><span class="line">Version: 1.0.0									<span class="comment"># è½¯ä»¶åŒ…ç‰ˆæœ¬</span></span><br><span class="line">Description: This is a player deb package		<span class="comment"># è½¯ä»¶åŒ…æè¿°</span></span><br><span class="line">Maintainer: WonderThink							<span class="comment"># è‘—ä½œäººä¿¡æ¯ï¼ˆåç§°ï¼Œè”ç³»æ–¹å¼ï¼Œé‚®ç®±ç­‰ï¼‰</span></span><br><span class="line">Architecture: amd64								<span class="comment"># è½¯ä»¶åŒ…æ”¯æŒçš„æ¶æ„å¹³å°ï¼ˆi386/amd64,m64k,sparc,alpha,powerpc,...ï¼‰		</span></span><br><span class="line">Section: utils									<span class="comment"># è½¯ä»¶åŒ…ç±»åˆ«ï¼ˆutils,net,mail,text,x11,...ï¼‰</span></span><br><span class="line">Source:											<span class="comment"># è½¯ä»¶åŒ…çš„æºä»£ç åç§°</span></span><br><span class="line">Priority: optional								<span class="comment"># è½¯ä»¶åŒ…å¯¹ç³»ç»Ÿçš„ä¼˜å…ˆçº§ï¼ˆrequired,standard,optional,extra,...ï¼‰</span></span><br><span class="line">Installed_Size: 4096</span><br><span class="line">Depends:										<span class="comment"># è½¯ä»¶ä¾èµ–çš„å…¶ä»–è½¯ä»¶åŒ…å’Œåº“æ–‡ä»¶ï¼ˆå¤šä¸ªç”¨é€—å·éš”å¼€ï¼‰</span></span><br><span class="line">Pre-Depends:									<span class="comment"># è½¯ä»¶å®‰è£…å‰å¿…é¡»å®‰è£…æˆ–ä¾èµ–çš„è½¯ä»¶åŒ…å’Œåº“æ–‡ä»¶</span></span><br><span class="line">Recommends:										<span class="comment"># æ¨èå®‰è£…çš„å…¶ä»–è½¯ä»¶åŒ…å’Œåº“æ–‡ä»¶</span></span><br><span class="line">Suggests:										<span class="comment"># å»ºè®®å®‰è£…çš„å…¶ä»–è½¯ä»¶åŒ…å’Œåº“æ–‡</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æœ¬ä¾‹ä¸­ï¼ŒåŸºæœ¬é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Package: MCPlayer</span><br><span class="line">Version: 1.0.1.0</span><br><span class="line">Section: free</span><br><span class="line">Priority: optional</span><br><span class="line">Installed-Size: 4096</span><br><span class="line">Architecture: arm64</span><br><span class="line">Homepage: https://www.mcplayerdemo.com</span><br><span class="line">Maintainer: help@mcplayerdemo.com</span><br><span class="line">Description: mc player applcation.</span><br></pre></td></tr></table></figure>



<h3 id="è„šæœ¬æ–‡ä»¶-preinst"><a href="#è„šæœ¬æ–‡ä»¶-preinst" class="headerlink" title="è„šæœ¬æ–‡ä»¶ preinst"></a>è„šæœ¬æ–‡ä»¶ preinst</h3><p><code>preinst</code>è„šæœ¬åœ¨å®‰è£…åº”ç”¨æ—¶æ‰§è¡Œã€‚è¯¥è„šæœ¬ä¸€èˆ¬ç”¨æ¥åœæ­¢æ—§åº”ç”¨ç¨‹åºï¼Œæ›´æ–°åº”ç”¨é…ç½®ï¼Œåˆ›å»ºè‡ªå®šä¹‰æœåŠ¡ç­‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">PACK_NAME=MCPlayer</span><br><span class="line">INSTALL_PATH=/opt/$&#123;PACK_NAME&#125;</span><br><span class="line">DESKTOP_FILE_PATH=$&#123;INSTALL_PATH&#125;/$&#123;PACK_NAME&#125;.desktop</span><br><span class="line">DESKTOP_PATH=$(xdg-user-dir DESKTOP)	# ä½¿ç”¨ xdg-user-dir è·å–æ¡Œé¢ç›®å½•è·¯å¾„ï¼Œç¡®ä¿è·¨è¯­è¨€ç¯å¢ƒå…¼å®¹</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">kill</span> old version</span></span><br><span class="line">killall mcplayer &gt; /dev/null 2&gt;&amp;1 || true</span><br><span class="line">killall -9 MCPlayer &gt; /dev/null 2&gt;&amp;1 || true</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cp</span> service file to systemd</span></span><br><span class="line">SERVICE_NAME=mcplayerd.service</span><br><span class="line">SERVICE_PATH=$&#123;INSTALL_PATH&#125;/$&#123;SERVICE_NAME&#125;</span><br><span class="line"></span><br><span class="line">if [ ! -f &quot;$SERVICE_PATH&quot; ]; then</span><br><span class="line">    echo &quot;service file is not found.&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line">cp &quot;$SERVICE_PATH&quot; /etc/systemd/system/</span><br><span class="line">if [ $? -ne 0 ]; then</span><br><span class="line">    echo &quot;can&#x27;t copy service file to systemd.&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line">echo &quot;create service file success.&quot;</span><br></pre></td></tr></table></figure>



<h3 id="è„šæœ¬æ–‡ä»¶-postinst"><a href="#è„šæœ¬æ–‡ä»¶-postinst" class="headerlink" title="è„šæœ¬æ–‡ä»¶ postinst"></a>è„šæœ¬æ–‡ä»¶ postinst</h3><p><code>postinst</code>è„šæœ¬åœ¨å¸è½½åº”ç”¨åæ‰§è¡Œã€‚è¯¥è„šæœ¬ä¸€èˆ¬ç”¨æ¥åˆ›å»ºå¿«æ·æ–¹å¼ï¼Œå¯åŠ¨è‡ªå®šä¹‰æœåŠ¡ç­‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">PACK_NAME=MCPlayer</span><br><span class="line">INSTALL_PATH=/opt/$&#123;PACK_NAME&#125;</span><br><span class="line">DESKTOP_FILE_PATH=$&#123;INSTALL_PATH&#125;/$&#123;PACK_NAME&#125;.desktop</span><br><span class="line">DESKTOP_PATH=$(xdg-user-dir DESKTOP)	# ä½¿ç”¨ xdg-user-dir è·å–æ¡Œé¢ç›®å½•è·¯å¾„ï¼Œç¡®ä¿è·¨è¯­è¨€ç¯å¢ƒå…¼å®¹</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create desktop file</span></span><br><span class="line">if [ ! -d &quot;$DESKTOP_FILE_PATH&quot; ]; then</span><br><span class="line">    echo &quot;desktop file is not found.&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line">cp &quot;$DESKTOP_FILE_PATH&quot; &quot;$DESKTOP_PATH/&quot;</span><br><span class="line">if [ $? -ne 0 ]; then</span><br><span class="line">    echo &quot;can&#x27;t copy desktop file to systemd.&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line">echo &quot;create desktop file success.&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">run service</span></span><br><span class="line">SERVICE_NAME=mcplayerd.service</span><br><span class="line">systemctl --system daemon-reload</span><br><span class="line">systemctl enable &quot;$SERVICE_NAME&quot;</span><br><span class="line">systemctl start &quot;$SERVICE_NAME&quot;</span><br></pre></td></tr></table></figure>



<h3 id="è„šæœ¬æ–‡ä»¶-prerm"><a href="#è„šæœ¬æ–‡ä»¶-prerm" class="headerlink" title="è„šæœ¬æ–‡ä»¶ prerm"></a>è„šæœ¬æ–‡ä»¶ prerm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">killall -9 MCPlayer &gt; /dev/null 2&gt;&amp;1 || true</span><br><span class="line"></span><br><span class="line">systemctl stop mcplayerd.service</span><br><span class="line">systemctl disable mcplayerd.service</span><br></pre></td></tr></table></figure>



<h3 id="è„šæœ¬æ–‡ä»¶-postrm"><a href="#è„šæœ¬æ–‡ä»¶-postrm" class="headerlink" title="è„šæœ¬æ–‡ä»¶ postrm"></a>è„šæœ¬æ–‡ä»¶ postrm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">PACK_NAME=MCPlayer</span><br><span class="line">INSTALL_PATH=/opt/$&#123;PACK_NAME&#125;</span><br><span class="line"></span><br><span class="line">DESKTOP_PATH=$(xdg-user-dir DESKTOP)	# ä½¿ç”¨ xdg-user-dir è·å–æ¡Œé¢ç›®å½•è·¯å¾„ï¼Œç¡®ä¿è·¨è¯­è¨€ç¯å¢ƒå…¼å®¹</span><br><span class="line">DESKTOP_FILE_PATH=$&#123;DESKTOP_PATH&#125;/$&#123;PACK_NAME&#125;.desktop</span><br><span class="line">APP_FILE_PATH=/usr/share/applications/$&#123;PACK_NAME&#125;.desktop</span><br><span class="line"></span><br><span class="line">SERVICE_NAME=&quot;mcplayerd.service&quot;</span><br><span class="line">SERVICE_FILE=&quot;/etc/systemd/system/$SERVICE_NAME&quot;</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$DESKTOP_FILE_PATH&quot; ]; then</span><br><span class="line">    rm &quot;$DESKTOP_FILE_PATH&quot;</span><br><span class="line">    echo &quot;desktop file is deleted.&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;desktop file is not found. do next step.&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -f &quot;$APP_FILE_PATH&quot; ]; then</span><br><span class="line">    rm &quot;$APP_FILE_PATH&quot;</span><br><span class="line">    echo &quot;application desktop file is deleted.&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;application desktop file is not found. do next step.&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æŸ¥æœåŠ¡æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">if systemctl list-unit-files | grep -q &quot;^$SERVICE_NAME&quot;; then</span><br><span class="line">    # å¦‚æœæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œåˆ™åœæ­¢å®ƒ</span><br><span class="line">    if systemctl is-active --quiet &quot;$SERVICE_NAME&quot;; then</span><br><span class="line">        systemctl stop &quot;$SERVICE_NAME&quot;</span><br><span class="line">        echo &quot;æœåŠ¡ $SERVICE_NAME å·²åœæ­¢&quot;</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    # ç¦ç”¨æœåŠ¡ï¼Œé˜²æ­¢å®ƒåœ¨å¼€æœºæ—¶å¯åŠ¨</span><br><span class="line">    systemctl disable &quot;$SERVICE_NAME&quot;</span><br><span class="line">    echo &quot;æœåŠ¡ $SERVICE_NAME å·²ç¦ç”¨&quot;</span><br><span class="line"></span><br><span class="line">    # åˆ·æ–° systemd é…ç½®</span><br><span class="line">    systemctl --system daemon-reload</span><br><span class="line"></span><br><span class="line">    # åˆ é™¤æœåŠ¡æ–‡ä»¶</span><br><span class="line">    if [ -f &quot;$SERVICE_FILE&quot; ]; then</span><br><span class="line">        rm &quot;$SERVICE_FILE&quot;</span><br><span class="line">        echo &quot;æœåŠ¡æ–‡ä»¶ $SERVICE_FILE å·²åˆ é™¤&quot;</span><br><span class="line">    else</span><br><span class="line">        echo &quot;è­¦å‘Š: æœåŠ¡æ–‡ä»¶ $SERVICE_FILE ä¸å­˜åœ¨ï¼Œè·³è¿‡åˆ é™¤æ­¥éª¤&quot;</span><br><span class="line">    fi</span><br><span class="line">else</span><br><span class="line">    echo &quot;è­¦å‘Š: æœåŠ¡ $SERVICE_NAME æœªæ‰¾åˆ°ï¼Œè·³è¿‡åœæ­¢ã€ç¦ç”¨å’Œåˆ é™¤æ­¥éª¤&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡æ–°åŠ è½½ systemd é…ç½®</span></span><br><span class="line">systemctl --system daemon-reload</span><br></pre></td></tr></table></figure>



<h3 id="æ¡Œé¢æ–‡ä»¶-MCPlayer-desktop"><a href="#æ¡Œé¢æ–‡ä»¶-MCPlayer-desktop" class="headerlink" title="æ¡Œé¢æ–‡ä»¶ MCPlayer.desktop"></a>æ¡Œé¢æ–‡ä»¶ MCPlayer.desktop</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Desktop Entry]</span></span><br><span class="line"><span class="attr">Name</span>=Player									<span class="comment"># ç¨‹åºåç§°</span></span><br><span class="line">Version: 1.0.0								<span class="comment"># ç¨‹åºç‰ˆæœ¬å·</span></span><br><span class="line">Comment: This is a player deb package		<span class="comment"># ç¨‹åºæ³¨é‡Š</span></span><br><span class="line"><span class="attr">Type</span>=Application							<span class="comment"># ç¨‹åºç±»å‹</span></span><br><span class="line"><span class="attr">Exec</span>=/usr/bin/Player						<span class="comment"># æŒ‡å®šç¨‹åºå­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line"><span class="attr">Icon</span>=/usr/share/Player/Player.png			<span class="comment"># æŒ‡å®šå›¾æ ‡å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line"><span class="attr">Terminal</span>=<span class="literal">false</span>								<span class="comment"># æ˜¯å¦æ‰“å¼€ç¨‹åºæ—¶åŒæ—¶æ‰“å¼€ç»ˆç«¯</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šè‹¥æ²¡æœ‰å°†iconæ”¾åˆ°&#x2F;usr&#x2F;share&#x2F;applications&#x2F;ç›®å½•ä¸‹ï¼Œåˆ™éœ€è¦å†™å…¨è·¯å¾„ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span><br><span class="line">journalctl -u dsmsprinterd</span><br><span class="line">// åˆ é™¤æœåŠ¡æ—¥å¿—</span><br><span class="line">journalctl --rotate</span><br><span class="line">journalctl --vacuum-time=1s -u dsmsprinterd</span><br><span class="line"></span><br><span class="line">systemctl --system daemon-reload</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-07-04</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
    </div> -->

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>